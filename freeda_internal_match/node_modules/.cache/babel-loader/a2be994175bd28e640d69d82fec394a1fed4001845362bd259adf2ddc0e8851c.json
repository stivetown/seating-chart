{"ast":null,"code":"import React,{useState,useRef}from'react';import{Upload,Download,FileSpreadsheet,AlertCircle,CheckCircle}from'lucide-react';import{parseCSVData,exportToCSV,exportGroupSummaryToCSV,downloadSampleCSV}from'../utils/export';import{validateMemberData}from'../utils/matching';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const ImportExport=_ref=>{let{groups,ungroupedMembers,onImportMembers}=_ref;const[isImporting,setIsImporting]=useState(false);const[importStatus,setImportStatus]=useState({type:null,message:''});const[showGoogleSheets,setShowGoogleSheets]=useState(false);const fileInputRef=useRef(null);const handleFileUpload=async event=>{var _event$target$files;const file=(_event$target$files=event.target.files)===null||_event$target$files===void 0?void 0:_event$target$files[0];if(!file)return;if(!file.name.endsWith('.csv')){setImportStatus({type:'error',message:'Please upload a CSV file'});return;}setIsImporting(true);setImportStatus({type:null,message:''});try{const csvContent=await file.text();const members=await parseCSVData(csvContent);// Validate all members\nconst validationErrors=[];const validMembers=[];members.forEach((member,index)=>{const errors=validateMemberData(member);if(errors.length>0){validationErrors.push(\"Row \".concat(index+2,\": \").concat(errors.join(', ')));}else{validMembers.push(member);}});if(validationErrors.length>0&&validMembers.length===0){setImportStatus({type:'error',message:'No valid members found in the CSV file',details:validationErrors.slice(0,10)// Show first 10 errors\n});}else{onImportMembers(validMembers);setImportStatus({type:'success',message:\"Successfully imported \".concat(validMembers.length,\" member\").concat(validMembers.length!==1?'s':''),details:validationErrors.length>0?[\"\".concat(validationErrors.length,\" rows had validation errors and were skipped\")]:undefined});}}catch(error){setImportStatus({type:'error',message:'Failed to parse CSV file',details:[error instanceof Error?error.message:'Unknown error occurred']});}finally{setIsImporting(false);if(fileInputRef.current){fileInputRef.current.value='';}}};const handleExportMembers=()=>{exportToCSV(groups,ungroupedMembers,\"Export generated on \".concat(new Date().toLocaleString()));};const handleExportGroupSummary=()=>{exportGroupSummaryToCSV(groups);};const handleGoogleSheetsConnect=()=>{// In a real implementation, this would integrate with Google Sheets API\nsetImportStatus({type:'error',message:'Google Sheets integration not implemented yet',details:['This feature would connect to Google Sheets API to fetch member data']});};return/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow-sm border border-gray-200 p-6\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-semibold text-gray-900\",children:\"Import & Export\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 mt-1\",children:\"Upload member data or export current group assignments\"})]}),importStatus.type&&/*#__PURE__*/_jsx(\"div\",{className:\"rounded-lg p-4 \".concat(importStatus.type==='success'?'bg-green-50 border border-green-200':'bg-red-50 border border-red-200'),children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-start\",children:[importStatus.type==='success'?/*#__PURE__*/_jsx(CheckCircle,{className:\"h-5 w-5 text-green-500 mt-0.5 mr-3 flex-shrink-0\"}):/*#__PURE__*/_jsx(AlertCircle,{className:\"h-5 w-5 text-red-500 mt-0.5 mr-3 flex-shrink-0\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"font-medium \".concat(importStatus.type==='success'?'text-green-800':'text-red-800'),children:importStatus.message}),importStatus.details&&/*#__PURE__*/_jsx(\"ul\",{className:\"mt-2 text-sm \".concat(importStatus.type==='success'?'text-green-700':'text-red-700'),children:importStatus.details.map((detail,index)=>/*#__PURE__*/_jsxs(\"li\",{className:\"mt-1\",children:[\"\\u2022 \",detail]},index))})]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setImportStatus({type:null,message:''}),className:\"ml-4 \".concat(importStatus.type==='success'?'text-green-500 hover:text-green-700':'text-red-500 hover:text-red-700'),children:\"\\xD7\"})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 lg:grid-cols-2 gap-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow-sm border border-gray-200 p-6\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-gray-900 mb-4\",children:\"Import Members\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center hover:border-primary-400 transition-colors\",children:[/*#__PURE__*/_jsx(Upload,{className:\"h-8 w-8 text-gray-400 mx-auto mb-2\"}),/*#__PURE__*/_jsx(\"h4\",{className:\"text-sm font-medium text-gray-900 mb-1\",children:\"Upload CSV File\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600 mb-4\",children:\"Choose a CSV file with member data\"}),/*#__PURE__*/_jsx(\"input\",{ref:fileInputRef,type:\"file\",accept:\".csv\",onChange:handleFileUpload,className:\"hidden\",disabled:isImporting}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>{var _fileInputRef$current;return(_fileInputRef$current=fileInputRef.current)===null||_fileInputRef$current===void 0?void 0:_fileInputRef$current.click();},disabled:isImporting,className:\"bg-primary-600 text-white px-4 py-2 rounded-md text-sm font-medium hover:bg-primary-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors\",children:isImporting?'Processing...':'Choose File'})]}),/*#__PURE__*/_jsx(\"div\",{className:\"flex justify-center\",children:/*#__PURE__*/_jsx(\"button\",{onClick:downloadSampleCSV,className:\"text-sm text-primary-600 hover:text-primary-700 underline\",children:\"Download sample CSV template\"})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-6 pt-6 border-t border-gray-200\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(FileSpreadsheet,{className:\"h-5 w-5 text-green-600 mr-2\"}),/*#__PURE__*/_jsx(\"h4\",{className:\"text-sm font-medium text-gray-900\",children:\"Google Sheets\"})]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowGoogleSheets(!showGoogleSheets),className:\"text-sm text-primary-600 hover:text-primary-700\",children:showGoogleSheets?'Hide':'Show'})]}),showGoogleSheets&&/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600\",children:\"Connect to Google Sheets to automatically sync member data\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-3\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"url\",placeholder:\"Google Sheets URL\",className:\"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-primary-500 focus:border-primary-500\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleGoogleSheetsConnect,className:\"w-full bg-green-600 text-white px-4 py-2 rounded-md text-sm font-medium hover:bg-green-700 transition-colors\",children:\"Connect to Google Sheets\"})]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-gray-500\",children:\"Make sure your Google Sheet is publicly accessible or you have shared it with the service account\"})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow-sm border border-gray-200 p-6\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-gray-900 mb-4\",children:\"Export Data\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"border border-gray-200 rounded-lg p-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-2\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"text-sm font-medium text-gray-900\",children:\"Complete Member Export\"}),/*#__PURE__*/_jsx(Download,{className:\"h-4 w-4 text-gray-500\"})]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600 mb-3\",children:\"Export all members with their group assignments and details\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"text-xs text-gray-500\",children:[groups.reduce((sum,g)=>sum+g.members.length,0)+ungroupedMembers.length,\" members\"]}),/*#__PURE__*/_jsx(\"button\",{onClick:handleExportMembers,className:\"bg-primary-600 text-white px-3 py-2 rounded text-sm font-medium hover:bg-primary-700 transition-colors\",children:\"Export CSV\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"border border-gray-200 rounded-lg p-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-2\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"text-sm font-medium text-gray-900\",children:\"Group Summary\"}),/*#__PURE__*/_jsx(Download,{className:\"h-4 w-4 text-gray-500\"})]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600 mb-3\",children:\"Export group statistics and member lists\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"text-xs text-gray-500\",children:[groups.length,\" groups\"]}),/*#__PURE__*/_jsx(\"button\",{onClick:handleExportGroupSummary,className:\"bg-primary-600 text-white px-3 py-2 rounded text-sm font-medium hover:bg-primary-700 transition-colors\",children:\"Export CSV\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"border border-gray-200 rounded-lg p-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-2\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"text-sm font-medium text-gray-900\",children:\"Archive Snapshot\"}),/*#__PURE__*/_jsx(Download,{className:\"h-4 w-4 text-gray-500\"})]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600 mb-3\",children:\"Create a timestamped archive for record keeping\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-xs text-gray-500\",children:\"Includes notes and metadata\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>exportToCSV(groups,ungroupedMembers,\"Archive snapshot created on \".concat(new Date().toLocaleString())),className:\"border border-gray-300 text-gray-700 px-3 py-2 rounded text-sm font-medium hover:bg-gray-50 transition-colors\",children:\"Create Archive\"})]})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-6 pt-6 border-t border-gray-200\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-blue-50 border border-blue-200 rounded-lg p-4\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"text-sm font-medium text-blue-900 mb-2\",children:\"Export Information\"}),/*#__PURE__*/_jsxs(\"ul\",{className:\"text-sm text-blue-800 space-y-1\",children:[/*#__PURE__*/_jsx(\"li\",{children:\"\\u2022 Files are exported in CSV format compatible with Excel and Google Sheets\"}),/*#__PURE__*/_jsx(\"li\",{children:\"\\u2022 All exports include timestamps for tracking\"}),/*#__PURE__*/_jsx(\"li\",{children:\"\\u2022 Member categories are semicolon-separated for easy parsing\"})]})]})})]})]})]});};export default ImportExport;","map":{"version":3,"names":["React","useState","useRef","Upload","Download","FileSpreadsheet","AlertCircle","CheckCircle","parseCSVData","exportToCSV","exportGroupSummaryToCSV","downloadSampleCSV","validateMemberData","jsx","_jsx","jsxs","_jsxs","ImportExport","_ref","groups","ungroupedMembers","onImportMembers","isImporting","setIsImporting","importStatus","setImportStatus","type","message","showGoogleSheets","setShowGoogleSheets","fileInputRef","handleFileUpload","event","_event$target$files","file","target","files","name","endsWith","csvContent","text","members","validationErrors","validMembers","forEach","member","index","errors","length","push","concat","join","details","slice","undefined","error","Error","current","value","handleExportMembers","Date","toLocaleString","handleExportGroupSummary","handleGoogleSheetsConnect","className","children","map","detail","onClick","ref","accept","onChange","disabled","_fileInputRef$current","click","placeholder","reduce","sum","g"],"sources":["/Users/mstiverson/Cursor/freeda_internal_match/src/components/ImportExport.tsx"],"sourcesContent":["import React, { useState, useRef } from 'react';\nimport { Upload, Download, FileSpreadsheet, AlertCircle, CheckCircle } from 'lucide-react';\nimport { Member, Group } from '../types';\nimport { parseCSVData, exportToCSV, exportGroupSummaryToCSV, downloadSampleCSV } from '../utils/export';\nimport { validateMemberData } from '../utils/matching';\n\ninterface ImportExportProps {\n  groups: Group[];\n  ungroupedMembers: Member[];\n  onImportMembers: (members: Member[]) => void;\n}\n\nconst ImportExport: React.FC<ImportExportProps> = ({ groups, ungroupedMembers, onImportMembers }) => {\n  const [isImporting, setIsImporting] = useState(false);\n  const [importStatus, setImportStatus] = useState<{\n    type: 'success' | 'error' | null;\n    message: string;\n    details?: string[];\n  }>({ type: null, message: '' });\n  const [showGoogleSheets, setShowGoogleSheets] = useState(false);\n\n  const fileInputRef = useRef<HTMLInputElement>(null);\n\n  const handleFileUpload = async (event: React.ChangeEvent<HTMLInputElement>) => {\n    const file = event.target.files?.[0];\n    if (!file) return;\n\n    if (!file.name.endsWith('.csv')) {\n      setImportStatus({\n        type: 'error',\n        message: 'Please upload a CSV file',\n      });\n      return;\n    }\n\n    setIsImporting(true);\n    setImportStatus({ type: null, message: '' });\n\n    try {\n      const csvContent = await file.text();\n      const members = await parseCSVData(csvContent);\n      \n      // Validate all members\n      const validationErrors: string[] = [];\n      const validMembers: Member[] = [];\n\n      members.forEach((member, index) => {\n        const errors = validateMemberData(member);\n        if (errors.length > 0) {\n          validationErrors.push(`Row ${index + 2}: ${errors.join(', ')}`);\n        } else {\n          validMembers.push(member);\n        }\n      });\n\n      if (validationErrors.length > 0 && validMembers.length === 0) {\n        setImportStatus({\n          type: 'error',\n          message: 'No valid members found in the CSV file',\n          details: validationErrors.slice(0, 10) // Show first 10 errors\n        });\n      } else {\n        onImportMembers(validMembers);\n        setImportStatus({\n          type: 'success',\n          message: `Successfully imported ${validMembers.length} member${validMembers.length !== 1 ? 's' : ''}`,\n          details: validationErrors.length > 0 ? [`${validationErrors.length} rows had validation errors and were skipped`] : undefined\n        });\n      }\n    } catch (error) {\n      setImportStatus({\n        type: 'error',\n        message: 'Failed to parse CSV file',\n        details: [error instanceof Error ? error.message : 'Unknown error occurred']\n      });\n    } finally {\n      setIsImporting(false);\n      if (fileInputRef.current) {\n        fileInputRef.current.value = '';\n      }\n    }\n  };\n\n  const handleExportMembers = () => {\n    exportToCSV(groups, ungroupedMembers, `Export generated on ${new Date().toLocaleString()}`);\n  };\n\n  const handleExportGroupSummary = () => {\n    exportGroupSummaryToCSV(groups);\n  };\n\n  const handleGoogleSheetsConnect = () => {\n    // In a real implementation, this would integrate with Google Sheets API\n    setImportStatus({\n      type: 'error',\n      message: 'Google Sheets integration not implemented yet',\n      details: ['This feature would connect to Google Sheets API to fetch member data']\n    });\n  };\n\n  return (\n    <div className=\"space-y-6\">\n      {/* Header */}\n      <div className=\"bg-white rounded-lg shadow-sm border border-gray-200 p-6\">\n        <h2 className=\"text-xl font-semibold text-gray-900\">Import & Export</h2>\n        <p className=\"text-gray-600 mt-1\">\n          Upload member data or export current group assignments\n        </p>\n      </div>\n\n      {/* Status Messages */}\n      {importStatus.type && (\n        <div className={`rounded-lg p-4 ${\n          importStatus.type === 'success' \n            ? 'bg-green-50 border border-green-200' \n            : 'bg-red-50 border border-red-200'\n        }`}>\n          <div className=\"flex items-start\">\n            {importStatus.type === 'success' ? (\n              <CheckCircle className=\"h-5 w-5 text-green-500 mt-0.5 mr-3 flex-shrink-0\" />\n            ) : (\n              <AlertCircle className=\"h-5 w-5 text-red-500 mt-0.5 mr-3 flex-shrink-0\" />\n            )}\n            <div className=\"flex-1\">\n              <p className={`font-medium ${\n                importStatus.type === 'success' ? 'text-green-800' : 'text-red-800'\n              }`}>\n                {importStatus.message}\n              </p>\n              {importStatus.details && (\n                <ul className={`mt-2 text-sm ${\n                  importStatus.type === 'success' ? 'text-green-700' : 'text-red-700'\n                }`}>\n                  {importStatus.details.map((detail, index) => (\n                    <li key={index} className=\"mt-1\">• {detail}</li>\n                  ))}\n                </ul>\n              )}\n            </div>\n            <button\n              onClick={() => setImportStatus({ type: null, message: '' })}\n              className={`ml-4 ${\n                importStatus.type === 'success' ? 'text-green-500 hover:text-green-700' : 'text-red-500 hover:text-red-700'\n              }`}\n            >\n              ×\n            </button>\n          </div>\n        </div>\n      )}\n\n      <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6\">\n        {/* Import Section */}\n        <div className=\"bg-white rounded-lg shadow-sm border border-gray-200 p-6\">\n          <h3 className=\"text-lg font-semibold text-gray-900 mb-4\">Import Members</h3>\n          \n          {/* CSV Upload */}\n          <div className=\"space-y-4\">\n            <div className=\"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center hover:border-primary-400 transition-colors\">\n              <Upload className=\"h-8 w-8 text-gray-400 mx-auto mb-2\" />\n              <h4 className=\"text-sm font-medium text-gray-900 mb-1\">Upload CSV File</h4>\n              <p className=\"text-sm text-gray-600 mb-4\">\n                Choose a CSV file with member data\n              </p>\n              \n              <input\n                ref={fileInputRef}\n                type=\"file\"\n                accept=\".csv\"\n                onChange={handleFileUpload}\n                className=\"hidden\"\n                disabled={isImporting}\n              />\n              \n              <button\n                onClick={() => fileInputRef.current?.click()}\n                disabled={isImporting}\n                className=\"bg-primary-600 text-white px-4 py-2 rounded-md text-sm font-medium hover:bg-primary-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors\"\n              >\n                {isImporting ? 'Processing...' : 'Choose File'}\n              </button>\n            </div>\n\n            <div className=\"flex justify-center\">\n              <button\n                onClick={downloadSampleCSV}\n                className=\"text-sm text-primary-600 hover:text-primary-700 underline\"\n              >\n                Download sample CSV template\n              </button>\n            </div>\n          </div>\n\n          {/* Google Sheets */}\n          <div className=\"mt-6 pt-6 border-t border-gray-200\">\n            <div className=\"flex items-center justify-between mb-4\">\n              <div className=\"flex items-center\">\n                <FileSpreadsheet className=\"h-5 w-5 text-green-600 mr-2\" />\n                <h4 className=\"text-sm font-medium text-gray-900\">Google Sheets</h4>\n              </div>\n              <button\n                onClick={() => setShowGoogleSheets(!showGoogleSheets)}\n                className=\"text-sm text-primary-600 hover:text-primary-700\"\n              >\n                {showGoogleSheets ? 'Hide' : 'Show'}\n              </button>\n            </div>\n\n            {showGoogleSheets && (\n              <div className=\"space-y-4\">\n                <p className=\"text-sm text-gray-600\">\n                  Connect to Google Sheets to automatically sync member data\n                </p>\n                \n                <div className=\"space-y-3\">\n                  <input\n                    type=\"url\"\n                    placeholder=\"Google Sheets URL\"\n                    className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-primary-500 focus:border-primary-500\"\n                  />\n                  \n                  <button\n                    onClick={handleGoogleSheetsConnect}\n                    className=\"w-full bg-green-600 text-white px-4 py-2 rounded-md text-sm font-medium hover:bg-green-700 transition-colors\"\n                  >\n                    Connect to Google Sheets\n                  </button>\n                </div>\n                \n                <p className=\"text-xs text-gray-500\">\n                  Make sure your Google Sheet is publicly accessible or you have shared it with the service account\n                </p>\n              </div>\n            )}\n          </div>\n        </div>\n\n        {/* Export Section */}\n        <div className=\"bg-white rounded-lg shadow-sm border border-gray-200 p-6\">\n          <h3 className=\"text-lg font-semibold text-gray-900 mb-4\">Export Data</h3>\n          \n          <div className=\"space-y-4\">\n            {/* Full Export */}\n            <div className=\"border border-gray-200 rounded-lg p-4\">\n              <div className=\"flex items-center justify-between mb-2\">\n                <h4 className=\"text-sm font-medium text-gray-900\">Complete Member Export</h4>\n                <Download className=\"h-4 w-4 text-gray-500\" />\n              </div>\n              <p className=\"text-sm text-gray-600 mb-3\">\n                Export all members with their group assignments and details\n              </p>\n              <div className=\"flex items-center justify-between\">\n                <span className=\"text-xs text-gray-500\">\n                  {groups.reduce((sum, g) => sum + g.members.length, 0) + ungroupedMembers.length} members\n                </span>\n                <button\n                  onClick={handleExportMembers}\n                  className=\"bg-primary-600 text-white px-3 py-2 rounded text-sm font-medium hover:bg-primary-700 transition-colors\"\n                >\n                  Export CSV\n                </button>\n              </div>\n            </div>\n\n            {/* Group Summary Export */}\n            <div className=\"border border-gray-200 rounded-lg p-4\">\n              <div className=\"flex items-center justify-between mb-2\">\n                <h4 className=\"text-sm font-medium text-gray-900\">Group Summary</h4>\n                <Download className=\"h-4 w-4 text-gray-500\" />\n              </div>\n              <p className=\"text-sm text-gray-600 mb-3\">\n                Export group statistics and member lists\n              </p>\n              <div className=\"flex items-center justify-between\">\n                <span className=\"text-xs text-gray-500\">\n                  {groups.length} groups\n                </span>\n                <button\n                  onClick={handleExportGroupSummary}\n                  className=\"bg-primary-600 text-white px-3 py-2 rounded text-sm font-medium hover:bg-primary-700 transition-colors\"\n                >\n                  Export CSV\n                </button>\n              </div>\n            </div>\n\n            {/* Archive Export */}\n            <div className=\"border border-gray-200 rounded-lg p-4\">\n              <div className=\"flex items-center justify-between mb-2\">\n                <h4 className=\"text-sm font-medium text-gray-900\">Archive Snapshot</h4>\n                <Download className=\"h-4 w-4 text-gray-500\" />\n              </div>\n              <p className=\"text-sm text-gray-600 mb-3\">\n                Create a timestamped archive for record keeping\n              </p>\n              <div className=\"flex items-center justify-between\">\n                <span className=\"text-xs text-gray-500\">\n                  Includes notes and metadata\n                </span>\n                <button\n                  onClick={() => exportToCSV(groups, ungroupedMembers, `Archive snapshot created on ${new Date().toLocaleString()}`)}\n                  className=\"border border-gray-300 text-gray-700 px-3 py-2 rounded text-sm font-medium hover:bg-gray-50 transition-colors\"\n                >\n                  Create Archive\n                </button>\n              </div>\n            </div>\n          </div>\n\n          {/* Export Info */}\n          <div className=\"mt-6 pt-6 border-t border-gray-200\">\n            <div className=\"bg-blue-50 border border-blue-200 rounded-lg p-4\">\n              <h4 className=\"text-sm font-medium text-blue-900 mb-2\">Export Information</h4>\n              <ul className=\"text-sm text-blue-800 space-y-1\">\n                <li>• Files are exported in CSV format compatible with Excel and Google Sheets</li>\n                <li>• All exports include timestamps for tracking</li>\n                <li>• Member categories are semicolon-separated for easy parsing</li>\n              </ul>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default ImportExport; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}